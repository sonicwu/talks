<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <base target="_blank">

    <title>Bitcoin and Blockchain</title>
    <meta name="description" content="Bitcoin and Blockchain">
    <meta name="author" content="Sonic Wu">

    <link rel="stylesheet" href="../assets/css/reveal.css">
    <link rel="stylesheet" href="../assets/css/theme/league.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../assets/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../assets/css/print/pdf.css' : '../assets/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="../assets/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Bitcoin and Blockchain</h1>
        </section>
        <section>
          <p><a href="https://www.linkedin.com/in/robin-ye-84a131b4/">Robin Ye</a>:</p>
          <blockquote>
"At this moment, just like in 2000, software development into the Internet age, programmers either continue learning or be weeded out. Now the Internet age is over, welcome to the age of AI and blockchain."
          </blockquote>
        </section>
        <section>
          <h3>What we are going to talk about?</h3>
          <br/>
          <ul>
            <li>Evolution of Currency</li>
            <li>What is Bitcoin</li>
            <li>History of Bitcoin</li>
            <li>Transactions</li>
            <li>Blockchain</li>
            <li>Mining and Consensus</li>
            <li>User Security Best Practices</li>
            <li>Blockchain Applications</li>
          </ul>
        </section>
        <section>
          <h3>What we are not going to talk about?</h3>
          <br/>
          <ul>
            <li>Alternative Coins</li>
            <li>Ethereum</li>
            <li>Elliptic Curves Cryptography</li>
            <li>Digital Signatures (ECDSA)</li>
          </ul>
        </section>
        <section>
          <h2>Evolution of Currency</h2>
        </section>
        <section>
          <h3>Barter Economy</h3>
          <br/>
          <img src="img/barter-economy.png">
        </section>
        <section>
          <h3>Material Currency</h3>
          <img src="img/material-currency.png">
        </section>
        <section>
          <h3>Token Money</h3>
          <img src="img/token-money.png">
        </section>
        <section>
          <h3>Cashless Society</h3>
          <img src="img/cashless-society.png">
        </section>
        <section>
          <h3>What is Bitcoin?</h3>
          <p style="text-align: left">Bitcoin consists of:</p>
          <ul style="font-size: 28px">
            <li>A decentralized P2P network (the bitcoin protocol)</li>
            <li>A public transaction ledger (the blockchain)</li>
            <li>A set of rules for independent transaction validation and currency issuance (consensus rules)</li>
            <li>A mechanism for reaching global decentralized consensus on the valid blockchain (Proof-of-Work algorithm)</li>
          </ul>
        </section>
        <section>
          <h3>History of Bitcoin</h3>
          <br/>
          <ul>
            <li>Bitcoin was invented in 2008 with the publication of a paper titled <a href="https://bitcoin.org/bitcoin.pdf">"Bitcoin: A Peer-to-Peer Electronic Cash System"</a> written under the alias of Satoshi Nakamoto</li>
          </ul>
        </section>
        <section>
          <h3>History of Bitcoin</h3>
          <br/>
          <ul>
            <li>The bitcoin network started in 2009, based on a reference implementation published by Nakamoto and since revised by many other programmers</li>
          </ul>
        </section>
        <section>
          <h3>History of Bitcoin</h3>
          <br/>
          <ul>
            <li>Satoshi Nakamoto withdrew from the public in April 2011, leaving the responsibility of developing the code and network to a thriving group of volunteers</li>
          </ul>
        </section>
        <section>
          <h3>Bitcoin Price 2013 - 2018</h3>
          <img src="img/bitcoin-price-chart.png">
        </section>
        <section>
          <h2>Bitcoin Transaction</h2>
        </section>
        <section>
          <h3>Keys, Addresses, and Wallets</h3>
          <br/>
          <ul>
            <li>Ownership of bitcoin is established through digital keys, bitcoin addresses, and digital signatures</li>
            <li>The digital keys created and stored by users in a file, or simple database, called a wallet</li>
          </ul>
          <img src="img/key-pair-and-addr.png">
        </section>
        <section>
          <h3>Transaction Inputs and Outputs</h3>
          <img src="img/inputs-and-outputs.png">
        </section>
        <section>
          <h3>A chain of transactions</h3>
          <img src="img/chain-of-transcations.png">
        </section>
        <section>
          <h3>Common Transaction Forms</h3>
          <span>
            <img src="img/common-transcation.png">
            <img src="img/aggregationg-transaction.png">
            <img src="img/distributing-transcation.png">
          </span>
        </section>
        <section>
          <h3>The block explorer application</h3>
          <img src="img/sample-transaction.png">
          <p><a href="https://blockchain.info/tx/0627052b6f28912f2703066a912ea577f2ce4da4caa5a5fbd8a57286c345c2f2?show_adv=true">blockchain.info</a></p>
        </section>
        <section>
          <h3>UTXO</h3>
          <br/>
          <ul>
            <li>UTXO means "Unspent Transaction Outputs"</li>
            <li>UTXO can be spent as an Input in a transaction</li>
            <li>Every transaction represents a change in the UTXO set</li>
            <li>Bitcoin "balance" is the sum of all UTXO that user’s wallet can spend and which may be scattered among hundreds of transactions and hundreds of blocks</li>
          </ul>
        </section>
        <section>
          <h3>Transaction Fees</h3>
          <pre><code data-trim contenteditable>
Fees = Sum(Inputs) – Sum(Outputs)
          </code></pre>
          <br/>
          <ul>
            <li>Calculated based on the size of the transaction in Kbytes, not the value of the transaction in bitcoin</li>
            <li>Transaction fees affect the processing priority</li>
            <li>Most wallets calculate and include transaction fees automatically</li>
          </ul>
        </section>
        <section>
          <h3>Fee Estimation</h3>
          <img src="img/fee-estimation-service.png">
          <p><a href="https://bitcoinfees.21.co/">https://bitcoinfees.21.co/</a></p>
        </section>
        <section>
          <h3>Transaction Scripts</h3>
          <br/>
          <ul>
            <li>Bitcoin’s scripting language is a stack-based, turing completeness, and stateless verification language</li>
            <li>Bitcoin’s transaction validation relies on two types of scripts: a locking script and an unlocking script</li>
          </ul>
          <img src="img/transcation-script-structure.png">
        </section>
        <section>
          <h3>Evaluating a script for a P2PKH transaction</h3>
          <p>The vast majority of transactions processed on the bitcoin network spend outputs locked with a Pay-to-Public-Key-Hash or "P2PKH" script</p>
        </section>
        <section>
          <img src="img/eval-script-for-p2pkh-1.png">
        </section>
        <section>
          <img src="img/eval-script-for-p2pkh-2.png">
        </section>
        <section>
          <h2>Blockchain</h2>
        </section>
        <section>
          <h3>Block and Blockchain</h3>
          <br/>
          <ul>
            <li>Block is a container data structure that aggregates transactions</li>
            <li>The blockchain data structure is an ordered, back-linked list of blocks, serves as the public ledger for all transactions</li>
          </ul>
        </section>
        <section>
          <h3>Structure of a Block</h3>
          <br/>
          <table style="font-size: 26px">
            <thead>
            <tr>
              <th>Size</th>
              <th>Field</th>
              <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>4 bytes</td>
              <td>Block Size</td>
              <td>The size of the block, in bytes, following this field</td>
            </tr>
            <tr>
              <td>80 bytes</td>
              <td>Block Header</td>
              <td>Several fields form the block header</td>
            </tr>
            <tr>
              <td>VarInt</td>
              <td>Transaction Counter</td>
              <td>How many transactions follow</td>
            </tr>
            <tr>
              <td>Variable</td>
              <td>Transactions</td>
              <td>The transactions recorded in this block</td>
            </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h3>Block Header</h3>
          <br/>
          <table style="font-size: 22px">
            <thead>
            <tr>
              <th>Size</th>
              <th>Field</th>
              <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>4 bytes</td>
              <td>Version</td>
              <td>A version number to track software/protocol upgrades</td>
            </tr>
            <tr>
              <td>32 bytes</td>
              <td>Previous Block Hash</td>
              <td>A reference to the hash of the previous block in the chain</td>
            </tr>
            <tr>
              <td>32 bytes</td>
              <td>Merkle Root</td>
              <td>A hash of the root of the merkle tree of this block’s transactions</td>
            </tr>
            <tr>
              <td>4 bytes</td>
              <td>Timestamp</td>
              <td>The approximate creation time of this block</td>
            </tr>
            <tr>
              <td>4 bytes</td>
              <td>Difficulty</td>
              <td>The Proof-of-Work algorithm difficulty target for this block</td>
            </tr>
            <tr>
              <td>4 bytes</td>
              <td>Nonce</td>
              <td>A counter used for the Proof-of-Work algorithm</td>
            </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h5>Linking Blocks</h5>
          <img src="img/linking-blocks.png">
        </section>
        <section>
          <h3>The Genesis Block</h3>
          <br/>
          <p style="text-align: left">The first block in the blockchain is called the genesis block and was created in 2009. The genesis block contains a hidden message within it. The coinbase transaction input contains the text "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks," by referencing the headline of the British newspaper The Times.</p>
        </section>
        <section>
          <h3>Merkle Tree</h3>
          <img src="img/merkle-tree-1.png">
        </section>
        <section>
          <h3>Merkle Tree</h3>
          <p>Even number of nodes</p>
          <img src="img/merkle-tree-2.png">
        </section>
        <section>
          <h3>Merkle Path</h3>
          <img src="img/merkle-tree-path.png">
        </section>
        <section>
          <h3>Merkle Tree Efficiency</h3>
          <br/>
          <table style="font-size: 30px">
            <thead>
            <tr>
              <th>Number of Txs</th>
              <th>Approx. size of block</th>
              <th>Path size (hashes)</th>
              <th>Path size (bytes)</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>16 txs</td>
              <td>4 KB</td>
              <td>4 hashes</td>
              <td>128 bytes</td>
            </tr>
            <tr>
              <td>512 txs</td>
              <td>128 KB</td>
              <td>9 hashes</td>
              <td>288 bytes</td>
            </tr>
            <tr>
              <td>2048 txs</td>
              <td>512 KB</td>
              <td>11 hashes</td>
              <td>352 bytes</td>
            </tr>
            <tr>
              <td>65535 txs</td>
              <td>16 MB</td>
              <td>16 hashes</td>
              <td>512 bytes</td>
            </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h2>Mining and Consensus</h2>
        </section>
        <section>
          <h3>Miner</h3>
          <br/>
          <ul>
            <li>Miners validate new transactions and record them on the global ledger</li>
            <li>Miners receive two types of rewards by mining: new coins created with each new block, and transaction fees from all the transactions included in the block</li>
          </ul>
        </section>
        <section>
          <h3>Bitcoin Economics and Currency Creation</h3>
          <br/>
          <p style="text-align: left">Each block, generated on average every 10 minutes, contains entirely new bitcoin, created from nothing</p>
        </section>
        <section>
          <h3>Bitcoin Money Supply</h3>
          <ul style="font-size: 34px">
            <li>Every 210,000 blocks, or approximately every 4 years, the currency issuance rate is decreased by 50%</li>
            <li>Finally, in approximately 2140, almost 21 million bitcoin will be issued. Thereafter, blocks will contain no new bitcoin, and miners will be rewarded solely through the transaction fees</li>
          </ul>
          <img src="img/bitcoin-money-supply.png">
        </section>
        <section>
          <h3>The Coinbase Transaction</h3>
          <br/>
          <ul>
            <li>The first transaction in any block is a special transaction, called a coinbase transaction</li>
            <li>Coinbase transaction does not consume UTXO as inputs. Instead, it has only one input, called the "coinbase", which creates bitcoin from nothing</li>
          </ul>
        </section>
        <section>
          <h3>Proof of Work</h3>
          <p>The Difficulty target and Nonce in block header</p>
          <table style="font-size: 26px">
            <thead>
            <tr>
              <th>Size</th>
              <th>Field</th>
              <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>4 bytes</td>
              <td>Difficulty</td>
              <td>The Proof-of-Work algorithm difficulty target for this block</td>
            </tr>
            <tr>
              <td>4 bytes</td>
              <td>Nonce</td>
              <td>A counter used for the Proof-of-Work algorithm</td>
            </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h3>Proof of Work</h3>
          <p style="text-align: left">The Proof-of-Work must produce a hash (Nonce) that is less than the difficulty target</p>
          <pre style="width: 100%"><code data-trim contenteditable>
# example of proof-of-work algorithm
max_nonce = 2 ** 32 # 4 billion

def proof_of_work(header, difficulty_bits):

    difficulty_target = 2 ** (256-difficulty_bits)

    for nonce in xrange(max_nonce):
        block_hash = hashlib.sha256(str(header)+str(nonce)).hexdigest()

        if long(block_hash, 16) < difficulty_target:
            print "Success with nonce %d" % nonce
            return (block_hash, nonce)
          </code></pre>
        </section>
        <section>
          <h3>Retargeting to Adjust Difficulty</h3>
          <ul>
            <li>Blocks are generated every 10 minutes, on average. This is bitcoin’s heartbeat and underpins the frequency of currency issuance and the speed of transaction settlement</li>
            <li>Retargeting occurs automatically and on every node independently</li>
          </ul>
          <pre><code data-trim contenteditable>
New Difficulty = Old Difficulty *
            (Actual Time of Last 2016 Blocks / 20160 minutes)
          </code></pre>
        </section>
        <section>
          <h3>Miner Competition</h3>
          <p style="text-align: left">When one miner solves and transmits a block, other miners receive, validate, and then propagate the new block, they abandon their efforts to find a block at the same height and immediately start computing the next block in the chain</p>
        </section>
        <section>
          <h4>Total Hashing Power</h4>
          <img src="img/hash-rate.png">
        </section>
        <section>
          <h4>Mining Difficulty</h4>
          <img src="img/hash-difficulty.png">
        </section>
        <section>
          <h3>Decentralized Consensus</h3>
          <p style="text-align: left; font-size: 38px">Bitcoin’s decentralized consensus emerges from the interplay of four processes that occur independently on nodes across the network:</p>
          <ul style="font-size: 30px">
            <li>Independent verification of each transaction, by every full node, based on a comprehensive list of criteria</li>
            <li>Independent aggregation of those transactions into new blocks by mining nodes, coupled with demonstrated computation through a Proof-of-Work algorithm</li>
            <li>Independent verification of the new blocks by every node and assembly into a chain</li>
            <li>Independent selection, by every node, of the chain with the most cumulative computation demonstrated through Proof-of-Work</li>
          </ul>
        </section>
        <section>
          <h3>Blockchain Forks</h3>
          <img src="img/blockchain-with-forks.png">
          <ul>
            <li>Because the blockchain is a decentralized data structure, different copies of it are not always consistent</li>
            <li>As long as all nodes select the greatest-cumulative-work chain, the global bitcoin network eventually converges to a consistent state</li>
          </ul>
        </section>
        <section>
          <h3>Hard Fork</h3>
          <p>A permanent divergence in the blockchain, commonly occurs when non-upgraded nodes can’t validate blocks created by upgraded nodes that follow newer consensus rules</p>
        </section>
        <section>
          <h3>51% Consensus Attacks</h3>
          <p>If we controlled a majority (51%) of the total network’s hashing power, we can:</p>
          <ul>
            <li>Cause deliberate "forks" in the blockchain and double-spend transactions</li>
            <li>Execute DoS attacks against specific transactions or addresses</li>
          </ul>
        </section>
        <section>
          <h3>Is It Too Late to Start Mining?</h3>
        </section>
        <section>
          <h3>GPU Miner</h3>
          <img src="img/gpu-miner.png">
          <p>Nvidia GTX1080 GPU = 2.83GH/s for 200w</p>
        </section>
        <section>
          <p>ASIC: Application-Specific Integrated Circuit</p>
          <img src="img/asic-miner.png">
          <p>AntMiner S2 ASIC = 1000GH/s for 120w</p>
        </section>
        <section>
          <h3>Return On Investment</h3>
          <br/>
          <pre style="text-align: center">ROI = Miner costs / (Income per day - Power costs)</pre>
        </section>
        <section>
          <h5>Your competitors: <a href="http://theweek.com/captured/718731/inside-secret-chinese-bitcoin-mine">Inside a secret Chinese bitcoin mine</a></h5>
          <img src="img/sichuan-miner.png">
          <p>In this highly competitive environment, miners collaborate to form mining pools</p>
        </section>
        <section>
          <h2>User Security Best Practices</h2>
          <ul>
            <li>Physical Bitcoin Storage</li>
            <li>Hardware Wallets</li>
            <li>Balancing Risk</li>
            <li>Diversifying Risk</li>
            <li>Multisig and Governance</li>
            <li>Survivability</li>
          </ul>
        </section>
        <section>
          <h2>Blockchain Applications</h2>
          <ul>
            <li>Digital Identity</li>
            <li>Proof-of-Existence (Digital Notary)</li>
            <li>Kickstarter</li>
            <li>Smart Contracts</li>
            <li>Distributed Cloud Storage</li>
          </ul>
        </section>
        <section style="text-align: left">
          <h3>References</h3>
          <ul>
            <li><a href="https://github.com/bitcoinbook/bitcoinbook">Mastering Bitcoin</a></li>
            <li><a href="https://www.coindesk.com/">CoinDesk</a></li>
          </ul>
        </section>
        <section>
          <h1>Thank You</h1>
          <h4>Q&A</h4>
        </section>
      </div>
    </div>

    <script src="../assets/lib/js/head.min.js"></script>
    <script src="../assets/js/reveal.js"></script>

    <script>
        Reveal.initialize({
            dependencies: [
                { src: '../assets/plugin/markdown/marked.js' },
                { src: '../assets/plugin/markdown/markdown.js' },
                { src: '../assets/plugin/notes/notes.js', async: true },
                { src: '../assets/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
            ]
        });
    </script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-61870469-1', 'auto');
        ga('send', 'pageview');
    </script>
  </body>
</html>
